<tr class="nested-fields">
  <td style="width:25%">
    <%= f.collection_select :teacher_id, @teachers, :id, :fullname, {label: false }, 
      { class: "selectpicker", size: 6, :data => {width: "250px"},
        "data-none-results-text" => "No se encontrÃ³ docente", "data-live-search"=>true,
        "title"=>"Seleccionar", value: "#{ f.object.teacher.present? ? f.object.teacher.id : "" }"
      }
    %>
  </td>
  <td>
    <%= f.input :preparation, label: false, 
      :input_html => { 
        class: 'preparation',
        min: "#{f.object.assignature.min_preparation}",
        max: "#{f.object.assignature.preparation}",
        value: "#{f.object.preparation == 0 ? format_number(f.object.assignature.preparation) : format_number(f.object.preparation)}"
      }
    %> 
  </td>
  <td>
    <%= f.input :implementation, label: false, 
      :input_html => { 
        class: 'implementation',
        min: "#{f.object.assignature.min_implementation}",
        max: "#{f.object.assignature.implementation}",
        value: "#{f.object.implementation == 0 ? format_number(f.object.assignature.implementation) : format_number(f.object.implementation)}"
      }
    %> 
  </td>
  <td>
    <%= f.input :consultation, label: false, 
      :input_html => {
        class: 'consultation',
        min: "#{f.object.assignature.min_consultation}",
        max: "#{f.object.assignature.consultation}",
        value: "#{f.object.consultation == 0 ? format_number(f.object.assignature.consultation) : format_number(f.object.consultation)}"
      }
    %> 
  </td>
  <td>
    <h4>
    <span class="badge badge-info total-credit">
      <%= f.object.new_record? ? format_number(f.object.assignature.preparation + f.object.assignature.implementation + f.object.assignature.consultation) : format_number(f.object.total_credit) %>
    </span>
    </h4>
  </td>
  <td>
    <%= link_to_remove_association  f, class: 'remove-tag btn btn-warning btn-sm', tabindex: -1,
      title: 'Quitar', data: { toggle: 'tooltip', placement: 'top' } do %>
        <%= fa_icon "minus" %>
    <% end %>
  </td>
</tr>